
@{
    ViewData["Title"] = "First";
}

<h1>First</h1>
<button id="btn1" class="btn btn-primary mb-3">Click me</button>
<div id="div1" class="alert alert-info"></div>

@section Scripts{
    <script>
        const btn = document.querySelector('#btn1');
        const theDiv = document.querySelector('#div1');
        btn.addEventListener('click', () => {
            try {
                const response = await fetch('@Url.Content("~/api/index")')
                if (!response.ok) {
                    throw new Error(`${response.status}`);
                }
                const data = await response.text();
                myDiv.innerHTML = `<h2>${data}</h2>`
            } catch (error) {
                myDiv.innerHTML = `<h2>${error.message}</h2>`
            }

        });
    </script>
}
